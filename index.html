<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="images/favicon.png">

    <title>AJAX</title>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,400italic,700,800' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Raleway:300,200,100' rel='stylesheet' type='text/css'>

    <!-- Bootstrap core CSS -->
    <link href="js/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="js/bootstrap.switch/bootstrap-switch.css" />
	<link rel="stylesheet" type="text/css" href="js/bootstrap.datetimepicker/css/bootstrap-datetimepicker.min.css" />

	<!-- Select2 -->
	<link rel="stylesheet" type="text/css" href="js/jquery.select2/select2.css" />
	
	
	<!-- Slider -->
	<link rel="stylesheet" type="text/css" href="js/bootstrap.slider/css/slider.css" />
	
    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet" />

	<link rel="stylesheet" href="fonts/font-awesome-4/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/pygments.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  <link rel="stylesheet" type="text/css" href="js/jquery.nanoscroller/nanoscroller.css" />
</head>

<body>

<!-- Fixed navbar -->
<div id="head-nav" class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="fa fa-gear"></span>
      </button>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>


<div id="cl-wrapper">

  <div  id="pcont">
    <div class="cl-mcont">

    
    <div class="row">
      <div class="col-md-12">

		  <div class="block-flat">
			  <div class="header">
				  <h3>SCRIPT RESPONSE</h3>
			  </div>
			  <pre>
			  <div class="content response-content">
				...
			  </div>
				  </pre>
		  </div>

        <div class="block-flat">
          <div class="header">							
            <h3>AJAX FORM TESTER</h3>
          </div>
          <div class="content">
             <form class="form-horizontal group-border-dashed" id="submitData" location="test.php" style="border-radius: 0px;">
              <div class="form-group">
                <label class="col-sm-3 control-label">$recipientName</label>
                <div class="col-sm-6">
                  <input type="text" name="recipientName" class="form-control">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">$recipientEmail</label>
                <div class="col-sm-6">
                  <input type="text" name="recipientEmail" class="form-control">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">$referenceId</label>
                <div class="col-sm-6">
                  <input type="text" name="referenceId" class="form-control">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">$templateId</label>
                <div class="col-sm-6">
                  <input type="text" name="templateId" class="form-control">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">$locale</label>
                <div class="col-sm-6">
                  <input type="text" name="locale" class="form-control">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">$senderEmail</label>
                <div class="col-sm-6">
                  <input type="text" name="senderEmail" class="form-control">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">$senderName</label>
                <div class="col-sm-6">
                  <input type="text" name="senderName" class="form-control">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">$replyTo</label>
                <div class="col-sm-6">
                  <input type="text" name="replyTo" class="form-control">
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-3 control-label">$preferredSendTime</label>
                <div class="col-sm-6">
                  <input type="text" name="preferredSendTime" class="form-control">
                </div>
              </div>

				 <div class="form-group">
					 <button class="btn btn-primary">Test Data</button>
				 </div>
            </form>
          </div>
        </div>

	  </div>
        </div>
        

    </div>
  </div> 
</div>
    
  <script src="js/jquery.js"></script>
  <script src="js/jquery.select2/select2.min.js" type="text/javascript"></script>
  <script src="js/jquery.parsley/parsley.js" type="text/javascript"></script>
  <script src="js/bootstrap.slider/js/bootstrap-slider.js" type="text/javascript"></script>
  <script src="js/modernizr.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/jquery.nanoscroller/jquery.nanoscroller.js"></script>
	<script type="text/javascript" src="js/jquery.nestable/jquery.nestable.js"></script>
	<script type="text/javascript" src="js/behaviour/general.js"></script>
  <script src="js/jquery.ui/jquery-ui.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/bootstrap.switch/bootstrap-switch.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.datetimepicker/js/bootstrap-datetimepicker.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function(){
      //initialize the javascript
      App.init();



		var request;

		$("#submitData").submit(function(event){

			// abort pending request
			if (request) {
				request.abort();
			}

			var form = $("#submitData");
			// let's select and cache all the fields
			var $inputs = form.find("input, select, button, textarea");
			// serialize the data in the form
			var serializedData = form.serialize();
			//disable inputs trough validation & submission
			$inputs.prop("disabled", true);

			console.log(serializedData);

			// fire off the request to /form.php
			request = $.ajax({
				url: $(this).attr("location"),
				type: "post",
				data: serializedData
			});

			// on success
			request.done(function (response, textStatus, jqXHR){
				$('.response-content').html(response);
			});

			// on failure
			request.fail(function (jqXHR, textStatus, errorThrown){
				$('.response-content').html(
						"The following error occured: "+
						textStatus, errorThrown
				);
			});

			// every time -- reset input fields
			request.always(function () {
				// reenable the inputs
				$inputs.prop("disabled", false);
			});


			// prevent default posting of form
			event.preventDefault();


		});

//
//		//demo
//		$('.btn-primary').click(function(){
//			console.log('here');
//
//
//
//
//
//		})

    });
  </script>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="js/bootstrap/dist/js/bootstrap.min.js"></script>
</body>
</html>
